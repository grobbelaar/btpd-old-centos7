{
  "startup": {},
  "config": {
    "enabled": true,
    "reload_sighup": false,
    "reload_changed_ms": 1000
  },
  "core": {
    "core_timeout_ms": 1000,
    "idle_timeout_ms": 1000,
    "rlimit_as_mb": 0
  },
  "logger": {
    "enabled": true,
    "startup_priority": -1000,
    "shutdown_priority": 1000,
    "milliseconds": true,
    "limit": 100000000,
    "save_old": true,
    "stdout": "clog",
    "path": "/logs/btp-0.7/rt.log",
    "syslog": "",
    "deny": [],
    "single": true,
    "custom": {}
  },

  "server-tcp": [
    {
      "name": "server-tcp1",
      "enabled": true,
      "suspend": false,
      "startup_priority": 0,
      "shutdown_priority": 0,
      "cpu": [],
      "target": "rt-service1",
      "threads": 1,
      "addr": "0.0.0.0",
      "port": "38000",
      "connection": {
        "direct_mode":true,
        "reader": {"sep": "\r\n", "bufsize": 4096, "maxbuf": 8192},
        "writer": {"sep": "\r\n", "bufsize": 4096, "maxbuf": 8192}
      }
    }
  ],
  "server-udp": [
    {
      "name": "server-udp1",
      "enabled": true,
      "suspend": false,
      "startup_priority": 0,
      "shutdown_priority": 0,
      "workflow": "",
      "cpu": [0,1,2,3,4,5,6],
      "target": "rt-service1",
      "reader": { "sep": "\r\n", "bufsize": 65535, "maxbuf": 65535},
      "writer": { "sep": "\r\n", "bufsize": 65535, "maxbuf": 65535},
      "receive_buffer_size": 64000000,
      "threads": 7,
      "addr": "0.0.0.0",
      "port": "38000"
    }
  ],

  "rt-service": [
    {
      "name": "rt-service1",
      "target": "rt5s",
      "disable_handler_map": true
    }
  ],
  
  "btp-rt": [
    {
      "name": "rt5s",
      "outgoing_reduced_size": 128,
      "resolution": "microseconds",
      "soiled_start_ts": 5000000,
      "aggregation_step_ts": 5000000,
      "reducer_limit": 16384,
      "reducer_levels": 16,
      "pool_size": 16,
      "hash_size": 4096,
      "targets": ["rt1m", "gateway-ag5s"]
    },
    {
      "name": "rt1m",
      "outgoing_reduced_size": 128,
      "resolution": "microseconds",
      "soiled_start_ts": 0,
      "aggregation_step_ts": 60000000,
      "reducer_limit": 1536,
      "reducer_levels": 2,
      "pool_size": 16,
      "hash_size": 4096,
      "targets": ["rt7m", "gateway-ag1m"]
    },
    {
      "name": "rt7m",
      "outgoing_reduced_size": 128,
      "resolution": "microseconds",
      "soiled_start_ts": 0,
      "aggregation_step_ts": 420000000,
      "reducer_limit": 896,
      "reducer_levels": 2,
      "pool_size": 16,
      "hash_size": 4096,
      "targets": ["gateway-ag7m", "gateway-ag1h", "gateway-ag1d"]
    }
  ],

  
/* **************************************************************** */
/* **************************************************************** */

  "ag-gateway": [
    {
      "name": "gateway-ag5s",
      "outgoing_target": "client-ag5s",
      "outgoing_reg": true
    },
    {
      "name": "gateway-ag1m",
      "outgoing_target": "client-ag1m",
      "outgoing_reg": true
    },
    {
      "name": "gateway-ag7m",
      "outgoing_target": "client-ag7m",
      "outgoing_reg": true
    },
    {
      "name": "gateway-ag1h",
      "outgoing_target": "client-ag1h",
      "outgoing_reg": true
    },
    {
      "name": "gateway-ag1d",
      "outgoing_target": "client-ag1d",
      "outgoing_reg": true
    }
  ],
  
/* **************************************************************** */
  
  "client-tcp": [
    {
      "name": "client-ag5s",
      "addr": "dd2",
      "port": "36000",
      "connection": {
        "reader": { "sep": "\r\n" },
        "writer": { "sep": "\r\n" }
      }
    },
    {
      "name": "client-ag1m",
      "addr": "dd2",
      "port": "36001",
      "connection": {
        "reader": { "sep": "\r\n" },
        "writer": { "sep": "\r\n" }
      }
    },
    {
      "name": "client-ag7m",
      "addr": "dd2",
      "port": "36004",
      "connection": {
        "reader": { "sep": "\r\n" },
        "writer": { "sep": "\r\n" }
      }
    },
    {
      "name": "client-ag1h",
      "addr": "dd2",
      "port": "36002",
      "connection": {
        "reader": { "sep": "\r\n" },
        "writer": { "sep": "\r\n" }
      }
    },
    {
      "name": "client-ag1d",
      "enabled": true,
      "suspend": false,
      "addr": "dd2",
      "port": "36003",
      "connection": {
        "reader": { "sep": "\r\n" },
        "writer": { "sep": "\r\n" }
      }
    }
  ]
}
